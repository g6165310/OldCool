(function(t){function e(e){for(var o,i,n=e[0],c=e[1],l=e[2],d=0,p=[];d<n.length;d++)i=n[d],r[i]&&p.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},r={app:0},s=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/OldCool/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"06c7":function(t,e,a){},"0ddc":function(t,e,a){"use strict";var o=a("eeb1"),r=a.n(o);r.a},"147c":function(t,e,a){},1998:function(t,e,a){},"204f":function(t,e,a){"use strict";var o=a("4841"),r=a.n(o);r.a},3426:function(t,e,a){},"42c3":function(t,e,a){"use strict";var o=a("fe7b"),r=a.n(o);r.a},4841:function(t,e,a){},"496b":function(t,e,a){"use strict";var o=a("b646"),r=a.n(o);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),r=a("2f62"),s=a("bc3a"),i=a.n(s),n=a("a7fe"),c=a.n(n),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("router-view"),a("notifications",{attrs:{group:"auth",position:"bottom right"}})],1)},u=[],d=a("cebc"),p={name:"App",computed:Object(d["a"])({},Object(r["c"])(["isLoading"])),created:function(){}},m=p,v=(a("5c0b"),a("2877")),f=Object(v["a"])(m,l,u,!1,null,null,null),h=f.exports,g=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("Navbar"),a("vue-typed-js",{attrs:{strings:["Welcome to Old Cool","The Old, The Cool"],typeSpeed:100,backSpeed:100,showCursor:!1}},[a("h1",{staticClass:"typing"})])],1),t._m(0),t._m(1),t._m(2),a("Footer")],1)},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"typewriter"}},[a("div",{staticClass:"section-img bg1"}),a("div",{staticClass:"section-desc"},[a("h3",[t._v("typewriter")]),a("p",[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"telephone"}},[a("div",{staticClass:"section-desc"},[a("h3",[t._v("telephone")]),a("p",[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsam reprehenderit veritatis")])]),a("div",{staticClass:"section-img bg2"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"camera"}},[a("div",{staticClass:"section-img bg3"}),a("div",{staticClass:"section-desc"},[a("h3",[t._v("camera")]),a("p",[t._v("Lorem ipsum dolor sit amete velit laboriosam quod perspiciatis soluta ab! Beatae fugit officia similique quos sunt labore corporis quaerat, unde nulla facere, saepe maxime assumenda, officiis repellat est deserunt perspiciatis ab nesciunt esse a accusantium dolores?")])])])}],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{class:{navscroll:t.scrolled}},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:"/"}},[a("h1",[t._v("Old Cool")])])],1),a("div",{staticClass:"menu"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/product?categories=Typewriter"}},[t._v("Typewriter")])],1),a("li",[a("router-link",{attrs:{to:"/product?categories=Turntable"}},[t._v("Turntable")])],1),a("li",[a("router-link",{attrs:{to:"/product?categories=Telephone"}},[t._v("Telephone")])],1),a("li",[a("router-link",{attrs:{to:"/product?categories=Glasses"}},[t._v("Glasses")])],1),a("li",[a("router-link",{attrs:{to:"/product?categories=Camera"}},[t._v("Camera")])],1)])]),a("div",{staticClass:"nav-right"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/checkout"}},[t._v("Cart ("+t._s(t.cart.carts.length)+")")])],1),t.loginStatus?a("li",[a("router-link",{attrs:{to:"/admin/products"}},[t._v("Manage")])],1):t._e(),t.loginStatus?t._e():a("li",[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1),t.loginStatus?a("li",{staticClass:"logout",on:{click:function(e){t.logout()}}},[t._v("Logout")]):t._e()])]),a("div",{staticClass:"hamburger",class:{hamburgerActive:t.isActive},on:{click:function(e){e.preventDefault(),t.isActive=!t.isActive}}},[a("span"),a("span"),a("span")]),a("div",{staticClass:"moblie-menu",class:{active:t.isActive}},[a("ul",[a("li",[a("router-link",{attrs:{to:"/product?categories=Typewriter"}},[t._v("Typewriter")])],1),a("li",[a("router-link",{attrs:{to:"/product?categories=Turntable"}},[t._v("Turntable")])],1),a("li",[a("router-link",{attrs:{to:"/product?categories=Telephone"}},[t._v("Telephone")])],1),a("li",[a("router-link",{attrs:{to:"/product?categories=Glasses"}},[t._v("Glasses")])],1),a("li",[a("router-link",{attrs:{to:"/product?categories=Camera"}},[t._v("Camera")])],1),t._m(0),a("li",[a("router-link",{attrs:{to:"/checkout"}},[t._v("Cart ("+t._s(t.cart.carts.length)+")")])],1),t.loginStatus?a("li",[a("router-link",{attrs:{to:"/admin/products"}},[t._v("Manage")])],1):t._e(),t.loginStatus?t._e():a("li",[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1),t.loginStatus?a("li",{staticClass:"logout",on:{click:function(e){t.logout()}}},[t._v("Logout")]):t._e()])])])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"line"},[a("span")])}],P={name:"Navbar",data:function(){return{scrolled:!1,isActive:!1}},methods:Object(d["a"])({logout:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(e).then(function(e){e.data.success&&t.$store.dispatch("checkLogin")}),this.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,type:"success",text:"成功登出"})},handleScroll:function(){this.scrolled=window.scrollY>0}},Object(r["b"])(["getCart"])),computed:Object(d["a"])({},Object(r["c"])(["cart","loginStatus"])),created:function(){window.addEventListener("scroll",this.handleScroll),this.$store.dispatch("checkLogin"),this.getCart()}},x=P,$=(a("d7dc"),Object(v["a"])(x,C,y,!1,null,"9b62de34",null)),w=$.exports,k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"logo"},[a("h3",[t._v("Old Cool")])]),a("div",{staticClass:"copyright"},[a("span",[t._v("Copyright © g6165310@gmail.com All Rights Reserved.")])])])}],L={name:"Footer",data:function(){return{}}},N=L,T=(a("204f"),Object(v["a"])(N,k,O,!1,null,"5412fdf3",null)),A=T.exports,S={name:"home",components:{Navbar:w,Footer:A},data:function(){return{isRwd:!1}}},j=S,D=(a("c04a"),Object(v["a"])(j,_,b,!1,null,"50549e80",null)),E=D.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ownContainer"},[a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[a("h2",[t._v("Login")]),a("div",{staticClass:"input-box"},[a("i",{staticClass:"fa fa-user"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{type:"text",name:"",placeholder:"Username",required:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),a("div",{staticClass:"input-box"},[a("i",{staticClass:"fa fa-unlock-alt"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",name:"",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._m(0)])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-box"},[a("input",{attrs:{type:"submit",name:"",value:"Login"}})])}],q={name:"login",data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t="".concat("https://vue-course-api.hexschool.io","/admin/signin"),e=this;this.$http.post(t,e.user).then(function(t){t.data.success?e.$router.push("/"):e.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,type:"warning",text:"認證失敗，請重新輸入"})})}}},M=q,F=(a("5c90"),Object(v["a"])(M,I,U,!1,null,"682ed6e6",null)),G=F.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ownContainer"},[a("Sidebar"),a("router-view")],1)},B=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("ul",[a("li",[a("router-link",{class:{active:"Products"===this.$route.name},attrs:{to:"/admin/products"}},[t._v("Products")])],1),a("li",[a("router-link",{class:{active:"Orders"===this.$route.name},attrs:{to:"/admin/orders"}},[t._v("Orders")])],1),a("li",{staticClass:"home-link"},[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1)])])},H=[],W=a("1157"),Y=a.n(W),z={data:function(){return{}},created:function(){}},K=z,Q=(a("496b"),Object(v["a"])(K,J,H,!1,null,"4496de10",null)),V=Q.exports,X={components:{Sidebar:V}},Z=X,tt=(a("6939"),Object(v["a"])(Z,R,B,!1,null,"8bc191b6",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"addProduct"},[a("a",{on:{click:function(e){e.preventDefault(),t.openModal(!0)}}},[t._v("建立新的產品")])]),a("table",{staticClass:"product-table"},[t._m(0),a("tbody",t._l(t.products,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.category))]),a("td",[e.imageUrl?a("img",{staticClass:"product-thumb",attrs:{src:e.imageUrl,alt:""}}):t._e()]),a("td",[t._v(t._s(e.title))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("currency")(e.origin_price)))]),a("td",[t._v(t._s(t._f("currency")(e.price)))]),a("td",[e.is_enabled?a("span",[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("a",{staticClass:"btn edit-btn",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.openModal(!1,e)}}},[t._v("編輯")]),a("a",{staticClass:"btn del-btn",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.openDelModal(e)}}},[t._v("刪除")])])])}),0)]),a("table",{staticClass:"mobile-table"},[t._m(1),a("tbody",t._l(t.products,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.title))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("currency")(e.origin_price)))]),a("td",[t._v(t._s(t._f("currency")(e.price)))]),a("td",[e.is_enabled?a("span",[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("a",{staticClass:"btn edit-btn",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.openModal(!1,e)}}},[t._v("編輯")]),a("a",{staticClass:"btn del-btn",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.openDelModal(e)}}},[t._v("刪除")])])])}),0)]),a("Pagination",{attrs:{pages:t.pagination},on:{Updatepage:t.getProducts}}),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"imageUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\n                  "),t.status.fileUploading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),a("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.tempProduct.imageUrl}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(e){var a=t.tempProduct.is_enabled,o=e.target,r=o.checked?1:0;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&t.$set(t.tempProduct,"is_enabled",a.concat([s])):i>-1&&t.$set(t.tempProduct,"is_enabled",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.tempProduct,"is_enabled",r)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                    是否啟用\n                  ")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-confirm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.updateProduct(e)}}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"delModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(3),a("div",{staticClass:"modal-body"},[t._v("\n          是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-confirm",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn del-btn",attrs:{type:"button"},on:{click:t.deleteProduct}},[t._v("確認刪除")])])])])])],1)},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("分類")]),a("th",{attrs:{width:"20%"}},[t._v("產品圖")]),a("th",{attrs:{width:"30%"}},[t._v("產品名稱")]),a("th",[t._v("原價")]),a("th",[t._v("售價")]),a("th",[t._v("是否啟用")]),a("th",[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"30%"}},[t._v("產品名稱")]),a("th",[t._v("原價")]),a("th",[t._v("售價")]),a("th",[t._v("是否啟用")]),a("th",[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("新增產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"delModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],rt=a("5176"),st=a.n(rt),it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"nav-pagination",attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){e.preventDefault(),t.updatePage(t.pages.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),a("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pages.total_pages,function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.pages.current_page===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.updatePage(e)}}},[t._v(t._s(e))])])}),a("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){e.preventDefault(),t.updatePage(t.pages.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),a("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)])},nt=[],ct={name:"pagination",props:["pages"],data:function(){return{}},methods:{updatePage:function(t){this.$emit("Updatepage",t)}}},lt=ct,ut=(a("9405"),Object(v["a"])(lt,it,nt,!1,null,"a0ade470",null)),dt=ut.exports,pt={data:function(){return{products:[],pagination:{},tempProduct:{},isNew:!1,isLoading:!1,status:{fileUploading:!1}}},components:{Pagination:dt},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/products?page=").concat(t),a=this;a.isLoading=!0,this.$http.get(e).then(function(t){a.isLoading=!1,a.products=t.data.products,a.pagination=t.data.pagination})},openModal:function(t,e){t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=st()({},e),this.isNew=!1),Y()("#productModal").modal("show")},openDelModal:function(t){var e=this;Y()("#delModal").modal("show"),e.tempProduct=st()({},t)},updateProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/admin/product"),e="post",a=this;a.isNew||(t="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/admin/product/").concat(a.tempProduct.id),e="put"),this.$http[e](t,{data:a.tempProduct}).then(function(t){console.log(t.data),t.data.success?(Y()("#productModal").modal("hide"),a.getProducts()):(Y()("#productModal").modal("hide"),a.getProducts(),console.log("新增失敗"))})},deleteProduct:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/admin/product/").concat(e.tempProduct.id);this.$http.delete(a).then(function(e){Y()("#delModal").modal("hide"),t.getProducts()})},uploadFile:function(){var t=this.$refs.files.files[0];console.log(t);var e=this,a=new FormData;a.append("file-to-upload",t);var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/admin/upload");e.status.fileUploading=!0,this.$http.post(o,a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.status.fileUploading=!1,t.data.success&&e.$set(e.tempProduct,"imageUrl",t.data.imageUrl)})}},created:function(){this.getProducts()}},mt=pt,vt=(a("42c3"),Object(v["a"])(mt,at,ot,!1,null,"1b128cb6",null)),ft=vt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-page"},[a("Navbar"),a("div",{staticClass:"banner"},[a("div",{staticClass:"banner-msg"},[a("h2",[t._v(t._s(t.category))])])]),a("div",{staticClass:"content"},[a("div",{staticClass:"product-list"},t._l(t.filteredProducts,function(e){return a("div",{key:e.id,staticClass:"product-card"},[a("router-link",{attrs:{to:"/product/"+e.id}},[a("div",{staticClass:"product-card-top"},[a("div",{staticClass:"product-img",style:{backgroundImage:"url("+e.imageUrl+")"}})]),a("div",{staticClass:"product-details"},[a("span",{staticClass:"product-category"},[t._v(t._s(e.category))]),a("h4",[t._v(t._s(e.title))]),a("p",[t._v(t._s(e.content))]),a("div",{staticClass:"product-price"},[t._v("$"+t._s(e.price))]),a("div",{staticClass:"product-card-bottom"},[e.is_enabled?a("a",{staticClass:"add-to-cart",on:{click:function(a){if(a.preventDefault(),a.target!==a.currentTarget)return null;t.addToCart(e.id)}}},[t._v("Add To Cart")]):a("a",{staticClass:"add-to-cart disabled"},[t._v("Sold Out")])])])])],1)}),0)]),a("Footer")],1)},gt=[],_t={name:"Product",components:{Navbar:w,Footer:A},data:function(){return{isLoading:!1,category:this.$route.query.categories}},methods:{getAllProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/products/all");this.$store.dispatch("getProducts",t)},addToCart:function(t){var e=this;this.$store.dispatch("addToCart",{product_id:t,qty:1}).then(function(){e.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,type:"success",text:"成功加入購物車"})})}},computed:Object(d["a"])({},Object(r["c"])(["products"]),{filteredProducts:function(){var t=this;return this.products.filter(function(e){if(e.category==t.category)return e})}}),watch:{"$route.query":function(){this.category=this.$route.query.categories}},created:function(){this.getAllProduct(),console.log(this.$route.query.categories)}},bt=_t,Ct=(a("c71d"),Object(v["a"])(bt,ht,gt,!1,null,"0c1171cd",null)),yt=Ct.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("div",{staticClass:"item-top-details"},[a("div",{staticClass:"item-category"},[a("span",[t._v(t._s(t.product.category))])]),a("div",{staticClass:"item-img"},[a("img",{attrs:{src:t.product.imageUrl,alt:""}})])]),a("div",{staticClass:"item-details"},[a("div",{staticClass:"item-info"},[a("h3",[t._v(t._s(t.product.title))]),t.product.origin_price!=t.product.price?a("span",{staticClass:"origin-price"},[t._v("$"+t._s(t.product.origin_price))]):t._e(),a("span",{staticClass:"sale-price"},[t._v("$"+t._s(t.product.price))]),t.product.is_enabled?a("select",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"item-select-num",attrs:{name:"num",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.count=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",selected:"",disabled:""}},[t._v("Chose Please")]),t._l(10,function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+" Unit")])})],2):a("select",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"item-select-num",attrs:{name:"num",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.count=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",selected:"",disabled:""}},[t._v("Sold Out")])]),a("a",{staticClass:"addCart-btn",on:{click:function(e){t.addToCart(t.product.id,t.count)}}},[t._v("ADD TO CART")])]),a("div",{staticClass:"item-desc"},[a("div",{staticClass:"item-intro"},[a("h3",[t._v("Product Description")]),a("p",[t._v(t._s(t.product.description))])]),a("div",{staticClass:"item-content"},[a("h3",[t._v("Product Content")]),a("p",[t._v(t._s(t.product.content))])])])]),a("Footer")],1)},xt=[],$t={name:"ProductInfo",components:{Navbar:w,Footer:A},data:function(){return{product:[],count:0}},methods:{getProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/product/").concat(t.$route.params.productId);t.$http.get(e).then(function(e){e.data.success&&(t.product=e.data.product,console.log(t.product))})},getCart:function(){this.$store.dispatch("getCart")},addToCart:function(t,e){var a=this;e<1?this.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,type:"warning",text:"請選擇數量"}):this.$store.dispatch("addToCart",{product_id:t,qty:e}).then(function(){a.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,type:"success",text:"成功加入購物車"})})}},created:function(){this.getProduct()}},wt=$t,kt=(a("c9b4"),Object(v["a"])(wt,Pt,xt,!1,null,"3ae20cba",null)),Ot=kt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("div",{staticClass:"container"},[a("h4",[t._v("Order List")]),a("div",{staticClass:"tableContainer"},[0!=t.cart.carts.length?a("table",{staticClass:"cart-table"},[t._m(0),a("tbody",t._l(t.cart.carts,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.product.title))]),a("td",[t._v(t._s(e.qty))]),a("td",{},[t._v("$ "+t._s(e.final_total))]),a("td",{staticClass:"del-icon"},[a("i",{staticClass:"material-icons",on:{click:function(a){t.removeItem(e.id)}}},[t._v("delete_outline")])])])}),0),a("tfoot",[a("tr",[a("td",{staticClass:"total_price",attrs:{colspan:"2"}},[t._v("total")]),a("td",{staticClass:"total_price",attrs:{colspan:"1"}},[t._v("$ "+t._s(t.cart.final_total))]),a("td")])])]):a("vue-typed-js",{attrs:{strings:["To buy, or not to buy.That's a question"],showCursor:!0,typeSpeed:100,backSpeed:100,cursorChar:"_"}},[a("h1",{staticClass:"typing"})])],1),a("h4",[t._v("Checkout")]),a("form",{staticClass:"checkout-form",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],attrs:{type:"text",name:"name",id:"username",required:""},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),a("label",{attrs:{for:"username"}},[t._v("Name")])]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],attrs:{type:"email",name:"email",id:"useremail",required:""},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),a("label",[t._v("Email")])]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],attrs:{type:"tel",pattern:"[09]{2}[0-9]{8}",name:"tel",id:"usertel",required:""},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),a("label",{attrs:{for:"usertel"}},[t._v("phone")]),a("small",[t._v("(ex:09********)")])]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],attrs:{type:"text",name:"address",id:"useraddress",required:""},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),a("label",{attrs:{for:"useraddress"}},[t._v("Address")])]),a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],attrs:{name:"",id:"usermessage",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}}),a("label",{attrs:{for:"usermessage"}},[t._v("Message")])]),t._m(1)])]),a("Footer")],1)},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"50%"}},[t._v("PRODUCT NAME")]),a("th",[t._v("Unit")]),a("th",[t._v("price")]),a("th",{attrs:{width:"10%"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comfirm-btn"},[a("button",[t._v("Comfirm")])])}],Tt={name:"Checkout",components:{Navbar:w,Footer:A},data:function(){return{products:[],form:{user:{name:null,email:null,tel:null,address:null},message:null}}},methods:Object(d["a"])({createOrder:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/order"),o=e.form;e.$http.post(a,{data:o}).then(function(a){a.data.success?setTimeout(function(){e.$router.push("/order/".concat(a.data.orderId))},2e3):t.$swal({type:"error",text:a.data.message})})}},Object(r["b"])(["getCart","removeItem"])),computed:Object(d["a"])({},Object(r["c"])(["cart"])),created:function(){this.getCart()}},At=Tt,St=(a("e095"),Object(v["a"])(At,Lt,Nt,!1,null,"617c3d70",null)),jt=St.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("table",{staticClass:"order-table"},[t._m(0),a("tbody",t._l(t.orders,function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(t._f("date")(e.create_at)))]),a("td",[t._v(t._s(e.user.email))]),a("td",[a("ul",t._l(e.products,function(e,o){return a("li",{key:o},[t._v("\n              "+t._s(e.product.title)+" 數量："+t._s(e.qty)+" "+t._s(e.product.unit)+"\n            ")])}),0)]),a("td",[t._v(t._s(e.total))]),a("td",[e.is_paid?a("strong",{staticClass:"text-success"},[t._v("已付款")]):a("strong",{staticClass:"text-danger"},[t._v("未付款")])])])}),0)])],1)},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("購買時間")]),a("th",[t._v("Email")]),a("th",[t._v("購買款項")]),a("th",[t._v("應付金額")]),a("th",[t._v("是否付款")])])])}],It={data:function(){return{isLoading:!1,orders:{},pagination:{}}},components:{Pagination:dt},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/admin/orders?page=").concat(t),a=this;a.isLoading=!0,this.$http.get(e).then(function(t){console.log(t),a.orders=t.data.orders,a.pagination=t.data.pagination,a.isLoading=!1})}},created:function(){this.getOrders()}},Ut=It,qt=(a("0ddc"),Object(v["a"])(Ut,Dt,Et,!1,null,"dbb58154",null)),Mt=qt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("div",{staticClass:"container"},[a("h4",[t._v("Comfirm")]),a("h5",[t._v("Cart Info")]),a("table",{staticClass:"custom-table"},[t._m(0),a("tbody",t._l(t.order.products,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.product.title))]),a("td",[t._v(t._s(e.qty))]),a("td",{},[t._v("$ "+t._s(e.final_total))])])}),0),a("tfoot",[a("tr",[a("td",{staticClass:"total_price",attrs:{colspan:"2"}},[t._v("total")]),a("td",{staticClass:"total_price",attrs:{colspan:"1"}},[t._v("$ "+t._s(t.order.total))])])])]),a("h5",[t._v("Order Info")]),a("table",{staticClass:"custom-table"},[a("tbody",[a("tr",[a("td",[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("td",[t._v("Name")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("td",[t._v("phone")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("td",[t._v("Address")]),a("td",[t._v(t._s(t.order.user.address))])])])])]),a("Footer")],1)},Gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"30%"}},[t._v("PRODUCT NAME")]),a("th",[t._v("Unit")]),a("th",[t._v("price")])])])}],Rt={name:"Checkout",components:{Navbar:w,Footer:A},data:function(){return{orderId:"",order:{user:{}}}},methods:{getOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/order/").concat(t.orderId);this.$http.get(e).then(function(e){t.order=e.data.order})}},computed:{},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},Bt=Rt,Jt=(a("bc7e"),Object(v["a"])(Bt,Ft,Gt,!1,null,"a3855510",null)),Ht=Jt.exports;o["default"].use(g["a"]);var Wt=new g["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"*",redirect:"/login"},{path:"/",name:"home",component:E},{path:"/product",name:"product",component:yt},{path:"/product/:productId",name:"productInfo",component:Ot},{path:"/login",name:"Login",component:G},{path:"/checkout",name:"Checkout",component:jt},{path:"/order/:orderId",name:"Order",component:Ht},{path:"/admin",name:"Dashboard",component:et,meta:{requiresAuth:!0},children:[{path:"products",name:"Products",component:ft,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:Mt,meta:{requiresAuth:!0}}]}]}),Yt=a("9062"),zt=a.n(Yt);a("e40d"),a("4989");o["default"].use(r["a"]);var Kt=new r["a"].Store({strict:!0,state:{loginStatus:!1,isLoading:!1,products:[],cart:{carts:[]},pagination:{}},actions:{checkLogin:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/user/check");i.a.post(e).then(function(e){e.data.success?t.commit("LOGINSTATUS",!0):t.commit("LOGINSTATUS",!1)})},updateLoading:function(t,e){t.commit("LOADING",e)},getProducts:function(t,e){var a=e;t.commit("LOADING",!0),i.a.get(a).then(function(e){t.commit("PRODUCTS",e.data.products),t.commit("LOADING",!1)})},getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/cart");t.commit("LOADING",!0),i.a.get(e).then(function(e){console.log(e),t.commit("CARTS",e.data.data),t.commit("LOADING",!1)})},addToCart:function(t,e){var a=e.product_id,o=e.qty,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/cart"),s={product_id:a,qty:o};return console.log(s),t.commit("LOADING",!0),i.a.post(r,{data:s}).then(function(e){console.log(e),t.dispatch("getCart"),t.commit("LOADING",!1)})},removeItem:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("g6165310","/cart/").concat(e);i.a.delete(a).then(function(e){t.dispatch("getCart")})}},mutations:{LOGINSTATUS:function(t,e){t.loginStatus=e},LOADING:function(t,e){t.isLoading=e},PRODUCTS:function(t,e){t.products=e},CARTS:function(t,e){t.cart=e}},getters:{loginStatus:function(t){return t.loginStatus},isLoading:function(t){return t.isLoading},products:function(t){return t.products},cart:function(t){return t.cart}}}),Qt=(a("a481"),a("c5f6"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,function(t,e,a){var o=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return o}))}),Vt=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()},Xt=a("8cb8"),Zt=a("7bb1"),te=a("ee98"),ee=a.n(te),ae=a("619c");o["default"].use(r["a"]),o["default"].use(c.a,i.a),o["default"].use(Zt["a"]),o["default"].use(ee.a),o["default"].use(ae["a"]),o["default"].component("Loading",zt.a),o["default"].use(Xt["default"]),o["default"].filter("currency",Qt),o["default"].filter("date",Vt),o["default"].config.productionTip=!1,i.a.defaults.withCredentials=!0,new o["default"]({router:Wt,store:Kt,render:function(t){return t(h)}}).$mount("#app"),Wt.beforeEach(function(t,e,a){if(t.meta.requiresAuth){var o="".concat("https://vue-course-api.hexschool.io","/api/user/check");i.a.post(o).then(function(t){console.log(t),t.data.success?a():(alert("請重新登入"),a({path:"/login"}))})}else a()})},"5c0b":function(t,e,a){"use strict";var o=a("5e27"),r=a.n(o);r.a},"5c90":function(t,e,a){"use strict";var o=a("cb8b"),r=a.n(o);r.a},"5e27":function(t,e,a){},"622b":function(t,e,a){},"65dd":function(t,e,a){},6939:function(t,e,a){"use strict";var o=a("3426"),r=a.n(o);r.a},8872:function(t,e,a){},9405:function(t,e,a){"use strict";var o=a("622b"),r=a.n(o);r.a},b646:function(t,e,a){},b8d0:function(t,e,a){},bc7e:function(t,e,a){"use strict";var o=a("06c7"),r=a.n(o);r.a},c04a:function(t,e,a){"use strict";var o=a("147c"),r=a.n(o);r.a},c71d:function(t,e,a){"use strict";var o=a("1998"),r=a.n(o);r.a},c9b4:function(t,e,a){"use strict";var o=a("b8d0"),r=a.n(o);r.a},cb8b:function(t,e,a){},d7dc:function(t,e,a){"use strict";var o=a("8872"),r=a.n(o);r.a},e095:function(t,e,a){"use strict";var o=a("65dd"),r=a.n(o);r.a},eeb1:function(t,e,a){},fe7b:function(t,e,a){}});
//# sourceMappingURL=app.47db0aef.js.map